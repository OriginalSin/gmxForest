var forest=function(t){"use strict";function e(){}function n(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){for(var n in e)t[n]=1;return t}function a(t,e){return 0===e&&t(),function(){--e||t()}}function r(t,e){e.appendChild(t)}function o(t,e,n){e.insertBefore(t,n)}function l(t){t.parentNode.removeChild(t)}function c(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function i(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return document.createComment("")}function v(t,e,n){t.addEventListener(e,n,!1)}function f(t,e,n){t.removeEventListener(e,n,!1)}function m(t,e){t.data=""+e}function h(t,e){t._handlers=Object.create(null),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=e.store||t.root.store}function _(t){t()}function p(t){for(;t&&t.length;)t.shift()()}var g={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var s=0;s<n.length;s+=1){var a=n[s];if(!a.__calling)try{a.__calling=!0,a.call(this,e)}finally{a.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(n({},t)),this.root._lock||(this.root._lock=!0,p(this.root._beforecreate),p(this.root._oncreate),p(this.root._aftercreate),this.root._lock=!1)},_recompute:e,_set:function(t){var e=this._state,s={},a=!1;for(var r in t)this._differs(t[r],e[r])&&(s[r]=a=!0);a&&(this._state=n(n({},e),t),this._recompute(s,this._state),this._bind&&this._bind(s,this._state),this._fragment&&(this.fire("state",{changed:s,current:this._state,previous:e}),this._fragment.p(s,this._state),this.fire("update",{changed:s,current:this._state,previous:e})))},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};var b={updateCols:function(){var t=this.get().key,e=this.root.get().params[t];void 0===e.title&&(e.title=e.value),this.set(e)}};function y(t){var e=t.changed,n=t.current;t.previous;console.log("______ onstate",e,n.clicked)}function x(t,e){var n,s,a,c,d=e.it;return{c:function(){n=i("option"),s=u(d),n.__value=a=e.it,n.value=n.__value,n.selected=c=e.colName===e.it},m:function(t,e){o(n,t,e),r(s,n)},p:function(t,e){t.cols&&d!==(d=e.it)&&m(s,d),t.cols&&a!==(a=e.it)&&(n.__value=a),n.value=n.__value,(t.colName||t.cols)&&c!==(c=e.colName===e.it)&&(n.selected=c)},d:function(t){t&&l(n)}}}function q(t,e){for(var n,s=e.cols,a=[],r=0;r<s.length;r+=1)a[r]=x(0,k(e,s,r));function u(e){t.set({colName:this.options[this.selectedIndex].value})}return{c:function(){n=i("select");for(var t=0;t<a.length;t+=1)a[t].c();v(n,"change",u),n.name=e.key,n.className="gmx-sidebar-select-with-addon svelte-1qsv1jq"},m:function(t,e){o(n,t,e);for(var s=0;s<a.length;s+=1)a[s].m(n,null)},p:function(t,e){if(t.cols||t.colName){s=e.cols;for(var r=0;r<s.length;r+=1){var o=k(e,s,r);a[r]?a[r].p(t,o):(a[r]=x(0,o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}t.key&&(n.name=e.key)},d:function(t){t&&l(n),c(a,t),f(n,"change",u)}}}function I(t,e){var n;return{c:function(){var t,s;n=i("input"),t="type",s="text",n.setAttribute(t,s),n.className="gmx-sidebar-input-with-addon svelte-1qsv1jq",n.name=e.key,n.value=e.value},m:function(t,e){o(n,t,e)},p:function(t,e){t.key&&(n.name=e.key),t.value&&(n.value=e.value)},d:function(t){t&&l(n)}}}function k(t,e,n){var s=Object.create(t);return s.it=e[n],s.each_value=e,s.it_index=n,s}function N(t){var e=this;h(this,t),this._state=n({title:"",value:"",colName:"",clicked:!1,cols:[]},t.data),this._intro=!!t.intro,this._handlers.state=[y],t.root||(this._oncreate=[]),this._fragment=function(t,e){var n,s,a,c,d,h,p,g,b;function y(t){return t.clicked?q:I}var x=y(e),k=x(t,e);function N(n){t.set({clicked:!e.clicked})}return{c:function(){n=i("div"),s=i("div"),a=u(e.title),c=u("\n\t"),d=i("div"),h=i("div"),k.c(),p=u("\n\t\t\t"),g=i("button"),s.className="gmx-sidebar-label svelte-1qsv1jq",v(g,"click",N),g.className="gmx-addon-button svelte-1qsv1jq",g.title="выбрать из таблицы атрибутов",n.className="gmx-sidebar-labeled-block svelte-1qsv1jq"},m:function(t,e){o(n,t,e),r(s,n),r(a,s),r(c,n),r(d,n),r(h,d),k.m(h,null),r(p,h),r(g,h),b=!0},p:function(n,s){e=s,n.title&&m(a,e.title),x===(x=y(e))&&k?k.p(n,e):(k.d(1),(k=x(t,e)).c(),k.m(h,p))},i:function(t,e){b||this.m(t,e)},o:_,d:function(t){t&&l(n),k.d(),f(g,"click",N)}}}(this,this._state),this.root._oncreate.push(function(){y.call(e,{changed:s({},e._state),current:e._state}),function(){this.updateCols()}.call(e),e.fire("update",{changed:s({},e._state),current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),p(this._oncreate)),this._intro=!0}n(N.prototype,g),n(N.prototype,b);var T={updateCols:function(){var t=this.get().key,e=this.root.get().params[t];void 0===e.title&&(e.title=e.value),this.set(e)}};function C(t){var e=t.changed,n=t.current;t.previous;console.log("______ onstate",e,n.clicked)}function w(t){var a,r,c=this;h(this,t),this._state=n({title:"",value:"",colName:"",clicked:!1,cols:[]},t.data),this._intro=!!t.intro,this._handlers.state=[C],t.root||(this._oncreate=[]),this._fragment=(this._state,{c:function(){(a=i("div")).innerHTML='<table class="table svelte-1mrq7ar"><tr class="head svelte-1mrq7ar"><th class="c1 svelte-1mrq7ar"><input type="checkbox" value="on" class="svelte-1mrq7ar"></th>\n\t\t\t<th class="c2 svelte-1mrq7ar"><span>Id</span></th>\n\t\t\t<th class="c3 svelte-1mrq7ar"><span>Статус</span></th></tr>\n\t\t<tr class="item svelte-1mrq7ar"><td class="c1 svelte-1mrq7ar"><input type="checkbox" value="on" class="svelte-1mrq7ar"></td>\n\t\t\t<td class="c2 svelte-1mrq7ar"><span>1</span></td>\n\t\t\t<td class="c3"><span class="status svelte-1mrq7ar"></span><span class="leaflet-gmx-iconSvg svgIcon svelte-1mrq7ar"><svg class="svgIcon svelte-1mrq7ar"><use xlink:href="#zoom-to-feature"></use></svg></span></td></tr>\n\t\t<tr class="item svelte-1mrq7ar"><td class="c1 svelte-1mrq7ar"><input type="checkbox" value="on" class="svelte-1mrq7ar"></td>\n\t\t\t<td class="c2 svelte-1mrq7ar"><span>2</span></td>\n\t\t\t<td class="c3"><span class="status svelte-1mrq7ar"></span><span class="leaflet-gmx-iconSvg svgIcon svelte-1mrq7ar"><svg class="svgIcon svelte-1mrq7ar"><use xlink:href="#zoom-to-feature"></use></svg></span></td></tr>\n\t\t<tr class="item svelte-1mrq7ar"><td class="c1 svelte-1mrq7ar"><input type="checkbox" value="on" class="svelte-1mrq7ar"></td>\n\t\t\t<td class="c2 svelte-1mrq7ar"><span>1</span></td>\n\t\t\t<td class="c3"><span class="status svelte-1mrq7ar"></span><span class="leaflet-gmx-iconSvg svgIcon svelte-1mrq7ar"><svg class="svgIcon svelte-1mrq7ar"><use xlink:href="#zoom-to-feature"></use></svg></span></td></tr>\n\t\t<tr class="pagination svelte-1mrq7ar"><td colspan="3" class="svelte-1mrq7ar"><button type="button" disabled="" class="-btn">назад</button>\n\t\t\t\t<span class="pageInfo svelte-1mrq7ar">Стр. <input type="number" value="1" class="svelte-1mrq7ar"> из 6</span>\n\t\t\t\t<button type="button" class="-btn">вперед</button>\n\t\t\t\t<div class="-loading"><div class="-loading-inner"></div></div></td></tr></table>',a.className="tableContect svelte-1mrq7ar"},m:function(t,e){o(a,t,e),r=!0},p:e,i:function(t,e){r||this.m(t,e)},o:_,d:function(t){t&&l(a)}}),this.root._oncreate.push(function(){C.call(c,{changed:s({},c._state),current:c._state}),function(){this.updateCols()}.call(c),c.fire("update",{changed:s({},c._state),current:c._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),p(this._oncreate)),this._intro=!0}n(w.prototype,g),n(w.prototype,T);var j=window.serverBase||"//maps.kosmosnimki.ru/";var L={loadFeatures:function(t){var e=this;return fetch(j+"VectorLayer/Search.ashx?layer="+t+"&WrapStyle=None",{mode:"cors",credentials:"include"}).then(function(t){return t.json()}).then(function(t){"ok"===t.Status&&e.set({cols:t.Result.fields,layerItems:t.Result.values})}).catch(function(t){return console.log(t)})},getReportsCount:function(){var t=this;return fetch(j+"plugins/forestreport/rest/GetCurrentUserInfo?WrapStyle=None",{mode:"cors",credentials:"include"}).then(function(t){return t.json()}).then(function(e){if("ok"===e.Status){var n=e.Result.limit-e.Result.used;t.set({limit:n>0?n:0})}}).catch(function(t){return console.log(t)})}};function M(){console.log("in ondestroy",this)}function S(t){var e=t.changed,n=t.current;t.previous;console.log("in onstate",this),e.layerId&&n.layerId&&this.loadFeatures(n.layerId)}function R(t){t.changed;var e=t.current;t.previous;console.log("in onupdate",this);e.currentPerPage,e.searchInput,e.selectedPage,e.rows}function E(t,e){var n,s,a,c,d=e.it.title;return{c:function(){n=i("option"),s=u(d),n.__value=a=e.it.id,n.value=n.__value,n.selected=c=e.layerId===e.it.id,n.className="svelte-tbu2c6"},m:function(t,e){o(n,t,e),r(s,n)},p:function(t,e){t.layerIds&&d!==(d=e.it.title)&&m(s,d),t.layerIds&&a!==(a=e.it.id)&&(n.__value=a),n.value=n.__value,(t.layerId||t.layerIds)&&c!==(c=e.layerId===e.it.id)&&(n.selected=c)},d:function(t){t&&l(n)}}}function F(t,e){for(var n,s=e.layerIds,a=[],r=0;r<s.length;r+=1)a[r]=E(0,G(e,s,r));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=d()},m:function(t,e){for(var s=0;s<a.length;s+=1)a[s].m(t,e);o(n,t,e)},p:function(t,e){if(t.layerIds||t.layerId){s=e.layerIds;for(var r=0;r<s.length;r+=1){var o=G(e,s,r);a[r]?a[r].p(t,o):(a[r]=E(0,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},d:function(t){c(a,t),t&&l(n)}}}function H(t,e){var n,s,a,c=e.it;return{c:function(){n=i("option"),s=u(c),n.__value=a=e.it,n.value=n.__value,n.className="svelte-tbu2c6"},m:function(t,e){o(n,t,e),r(s,n)},p:function(t,e){t.params&&c!==(c=e.it)&&m(s,c),t.params&&a!==(a=e.it)&&(n.__value=a),n.value=n.__value},d:function(t){t&&l(n)}}}function O(t,e){var n,s,c,d={key:"fellingForm",cols:e.cols},v=new N({root:t.root,store:t.store,data:d}),f={key:"fellingType",cols:e.cols},m=new N({root:t.root,store:t.store,data:f});return{c:function(){n=i("div"),v._fragment.c(),s=u("\n\t\t\t\t\t\t"),m._fragment.c()},m:function(t,e){o(n,t,e),v._mount(n,null),r(s,n),m._mount(n,null),c=!0},p:function(t,e){var n={};t.cols&&(n.cols=e.cols),v._set(n);var s={};t.cols&&(s.cols=e.cols),m._set(s)},i:function(t,e){c||this.m(t,e)},o:function(t){c&&(t=a(t,2),v._fragment.o(t),m._fragment.o(t),c=!1)},d:function(t){t&&l(n),v.destroy(),m.destroy()}}}function P(t,e){var n,s,a,c,d=e.it.title;return{c:function(){n=i("option"),s=u(d),n.__value=a=e.it.id,n.value=n.__value,n.selected=c=e.quadrantId===e.it.id,n.className="svelte-tbu2c6"},m:function(t,e){o(n,t,e),r(s,n)},p:function(t,e){t.quadrantIds&&d!==(d=e.it.title)&&m(s,d),t.quadrantIds&&a!==(a=e.it.id)&&(n.__value=a),n.value=n.__value,(t.quadrantId||t.quadrantIds)&&c!==(c=e.quadrantId===e.it.id)&&(n.selected=c)},d:function(t){t&&l(n)}}}function z(t,e){for(var n,s=e.quadrantIds,a=[],r=0;r<s.length;r+=1)a[r]=P(0,B(e,s,r));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=d()},m:function(t,e){for(var s=0;s<a.length;s+=1)a[s].m(t,e);o(n,t,e)},p:function(t,e){if(t.quadrantIds||t.quadrantId){s=e.quadrantIds;for(var r=0;r<s.length;r+=1){var o=B(e,s,r);a[r]?a[r].p(t,o):(a[r]=P(0,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},d:function(t){c(a,t),t&&l(n)}}}function A(t,e){for(var n,s,d,h,_,p,g,b,y,x,q,I,k,T,C,j,L,M,S,R,E,F,P,A,G,B,W,Q,U,D,J,K,X,Y,Z,$,tt,et,nt,st,at,rt,ot,lt,ct,it,ut,dt=e.params.reportType.title,vt=e.layerItems.length,ft=e.params.reportType.options,mt=[],ht=0;ht<ft.length;ht+=1)mt[ht]=H(0,V(e,ft,ht));function _t(e){t.set({reportType:this.options[this.selectedIndex].value})}var pt="о восстановлении лесов"!==e.reportType&&O(t,e),gt={key:"region",cols:e.cols},bt=new N({root:t.root,store:t.store,data:gt}),yt={key:"forestry",cols:e.cols},xt=new N({root:t.root,store:t.store,data:yt}),qt={key:"sectionForestry",cols:e.cols},It=new N({root:t.root,store:t.store,data:qt}),kt={key:"quadrant",cols:e.cols},Nt=new N({root:t.root,store:t.store,data:kt}),Tt={key:"stratum",cols:e.cols},Ct=new N({root:t.root,store:t.store,data:Tt}),wt={key:"site",cols:e.cols},jt=new N({root:t.root,store:t.store,data:wt}),Lt={key:"recoveryEventType",cols:e.cols},Mt=new N({root:t.root,store:t.store,data:Lt}),St={key:"siteArea",cols:e.cols},Rt=new N({root:t.root,store:t.store,data:St}),Et={key:"scale",cols:e.cols},Ft=new N({root:t.root,store:t.store,data:Et}),Ht=e.quadrantIds&&z(0,e);function Ot(e){t.set({quadrantId:this.options[this.selectedIndex].value})}var Pt={key:"scale",cols:e.cols},zt=new w({root:t.root,store:t.store,data:Pt});return{c:function(){n=i("div"),s=i("div"),(d=i("div")).textContent="Ввод информации",h=u("\n\t\t\t"),_=i("div"),p=i("div"),g=i("div"),b=i("div"),y=u(dt),x=u("\n\t\t\t\t\t\t"),q=i("select");for(var t=0;t<mt.length;t+=1)mt[t].c();I=u("\n\t\t\t\t\t"),pt&&pt.c(),k=u("\n\t\t\t\t\t"),(T=i("div")).innerHTML='<div class="gmx-sidebar-label-small svelte-tbu2c6">Наименование организации</div>\n\t\t\t\t\t\t<input type="text" class="gmx-sidebar-input-large svelte-tbu2c6" value="Наименование организации">',C=u("\n\t\t\t\t\t"),(j=i("div")).innerHTML='<div class="gmx-sidebar-label-small svelte-tbu2c6">ИНН</div>\n\t\t\t\t\t\t<input type="text" class="gmx-sidebar-input-large svelte-tbu2c6" value="1234567890">',L=u("\n\n\t\t\t\t\t"),bt._fragment.c(),M=u("\n\t\t\t\t\t"),xt._fragment.c(),S=u("\n\t\t\t\t\t"),It._fragment.c(),R=u("\n\t\t\t\t\t"),Nt._fragment.c(),E=u("\n\t\t\t\t\t"),Ct._fragment.c(),F=u("\n\t\t\t\t\t"),jt._fragment.c(),P=u("\n\t\t\t\t\t"),Mt._fragment.c(),A=u("\n\t\t\t\t\t"),Rt._fragment.c(),G=u("\n\t\t\t\t\t"),Ft._fragment.c(),B=u("\n\n\t\t\t\t\t"),W=i("div"),(Q=i("div")).textContent="Слой квартальной сети",U=u("\n\t\t\t\t\t\t"),D=i("select"),J=i("option"),Ht&&Ht.c(),K=u("\n\t\t\t"),(X=i("div")).textContent="Список объектов",Y=u("\n\t\t\t"),Z=i("div"),$=i("div"),(tt=i("div")).innerHTML='<button class="gmx-sidebar-button svelte-tbu2c6">Выделите участки полигоном</button>',et=u("\n\t\t\t\t\t"),nt=i("div"),st=u("Выделено: 0 / "),at=u(vt),rt=u("\n\t\t\t\t\t"),(ot=i("div")).innerHTML='<div class="gmx-checkbox-container svelte-tbu2c6"><input type="checkbox" value="on">Инвертировать выделение</div>',lt=u("\n\t\t\t\t\t"),zt._fragment.c(),ct=u("\n\t\t\t"),(it=i("div")).innerHTML='<button class="gmx-sidebar-button-disabled svelte-tbu2c6" disabled="">Создать отчеты</button>',d.className="gmx-sidebar-label-medium svelte-tbu2c6",b.className="gmx-sidebar-label svelte-tbu2c6",v(q,"change",_t),q.name="reportType",q.className="gmx-sidebar-select-large svelte-tbu2c6",g.className="gmx-sidebar-labeled-block svelte-tbu2c6",T.className="gmx-sidebar-labeled-block svelte-tbu2c6",j.className="gmx-sidebar-labeled-block svelte-tbu2c6",Q.className="gmx-sidebar-label svelte-tbu2c6",J.__value="",J.value=J.__value,J.className="svelte-tbu2c6",v(D,"click",Ot),D.className="gmx-sidebar-select-large svelte-tbu2c6",W.className="gmx-sidebar-labeled-block svelte-tbu2c6",X.className="gmx-sidebar-label-medium svelte-tbu2c6",tt.className="gmx-geometry-select-container svelte-tbu2c6",nt.className="gmx-sidebar-label-medium svelte-tbu2c6",ot.className="gmx-sidebar-label-small svelte-tbu2c6",Z.className="forest-features-block svelte-tbu2c6",it.className="gmx-button-container svelte-tbu2c6",n.className="leftContent forest-plugin-content svelte-tbu2c6"},m:function(t,e){o(n,t,e),r(s,n),r(d,s),r(h,s),r(_,s),r(p,_),r(g,p),r(b,g),r(y,b),r(x,g),r(q,g);for(var a=0;a<mt.length;a+=1)mt[a].m(q,null);r(I,p),pt&&pt.m(p,null),r(k,p),r(T,p),r(C,p),r(j,p),r(L,p),bt._mount(p,null),r(M,p),xt._mount(p,null),r(S,p),It._mount(p,null),r(R,p),Nt._mount(p,null),r(E,p),Ct._mount(p,null),r(F,p),jt._mount(p,null),r(P,p),Mt._mount(p,null),r(A,p),Rt._mount(p,null),r(G,p),Ft._mount(p,null),r(B,p),r(W,p),r(Q,W),r(U,W),r(D,W),r(J,D),Ht&&Ht.m(D,null),r(K,s),r(X,s),r(Y,s),r(Z,s),r($,Z),r(tt,$),r(et,$),r(nt,$),r(st,nt),r(at,nt),r(rt,$),r(ot,$),r(lt,$),zt._mount($,null),r(ct,s),r(it,s),ut=!0},p:function(e,n){if(ut&&!e.params||dt===(dt=n.params.reportType.title)||m(y,dt),e.params){ft=n.params.reportType.options;for(var s=0;s<ft.length;s+=1){var a=V(n,ft,s);mt[s]?mt[s].p(e,a):(mt[s]=H(0,a),mt[s].c(),mt[s].m(q,null))}for(;s<mt.length;s+=1)mt[s].d(1);mt.length=ft.length}"о восстановлении лесов"!==n.reportType?(pt?pt.p(e,n):(pt=O(t,n))&&pt.c(),pt.i(p,k)):pt&&pt.o(function(){pt.d(1),pt=null});var r={};e.cols&&(r.cols=n.cols),bt._set(r);var o={};e.cols&&(o.cols=n.cols),xt._set(o);var l={};e.cols&&(l.cols=n.cols),It._set(l);var c={};e.cols&&(c.cols=n.cols),Nt._set(c);var i={};e.cols&&(i.cols=n.cols),Ct._set(i);var u={};e.cols&&(u.cols=n.cols),jt._set(u);var d={};e.cols&&(d.cols=n.cols),Mt._set(d);var v={};e.cols&&(v.cols=n.cols),Rt._set(v);var f={};e.cols&&(f.cols=n.cols),Ft._set(f),n.quadrantIds?Ht?Ht.p(e,n):((Ht=z(0,n)).c(),Ht.m(D,null)):Ht&&(Ht.d(1),Ht=null),ut&&!e.layerItems||vt===(vt=n.layerItems.length)||m(at,vt);var h={};e.cols&&(h.cols=n.cols),zt._set(h)},i:function(t,e){ut||this.m(t,e)},o:function(t){ut&&(t=a(t,11),pt?pt.o(t):t(),bt._fragment.o(t),xt._fragment.o(t),It._fragment.o(t),Nt._fragment.o(t),Ct._fragment.o(t),jt._fragment.o(t),Mt._fragment.o(t),Rt._fragment.o(t),Ft._fragment.o(t),zt._fragment.o(t),ut=!1)},d:function(t){t&&l(n),c(mt,t),f(q,"change",_t),pt&&pt.d(),bt.destroy(),xt.destroy(),It.destroy(),Nt.destroy(),Ct.destroy(),jt.destroy(),Mt.destroy(),Rt.destroy(),Ft.destroy(),Ht&&Ht.d(),f(D,"click",Ot),zt.destroy()}}}function G(t,e,n){var s=Object.create(t);return s.it=e[n],s.each_value=e,s.it_index=n,s}function V(t,e,n){var s=Object.create(t);return s.it=e[n],s.each_value_1=e,s.it_index_1=n,s}function B(t,e,n){var s=Object.create(t);return s.it=e[n],s.each_value_2=e,s.it_index_2=n,s}function W(t){var e=this;h(this,t),this._state=n({params:{layerId:{value:"",title:"Выбор слоя"},quadrantLayerId:{value:"",title:"Слой квартальной сети"},reportType:{options:["об использовании лесов","о восстановлении лесов"],title:"Тип отчета"},organizationName:{value:"Наименование организации"},inn:{value:"1234567890",title:"ИНН"},region:{value:"Субъект",title:"Субъект Российской Федерации"},forestry:{value:"Лесничество"},sectionForestry:{value:"Участковое лесничество"},quadrant:{value:"Квартал"},stratum:{value:"Выдел"},fellingForm:{value:"",title:"Форма рубки"},fellingType:{value:"",title:"Тип рубки"},recoveryEventType:{value:"",title:"Тип мероприятия"},siteArea:{value:"Площадь"},scale:{value:"Масштаб"},site:{value:"Делянка"}},layerItems:[],limit:0,layerId:"",reportType:"",layerIds:[],quadrantIds:[],cols:[]},t.data),this._intro=!!t.intro,this._handlers.state=[S],this._handlers.update=[R],this._handlers.destroy=[M],t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var n,s,a,c,d,h,_,p,g,b,y,x,q,I,k=e.layerIds&&F(0,e);function N(e){t.set({layerId:this.options[this.selectedIndex].value})}var T=e.layerId&&A(t,e);return{c:function(){n=i("div"),(s=i("div")).textContent="Отчет об использовании лесов",a=u("\n\t"),c=i("div"),d=u("Лимит отчетов: "),h=u(e.limit),_=u("\n\t"),p=i("div"),(g=i("span")).textContent="Выбор слоя",b=u("\n\t\t"),y=i("select"),x=i("option"),k&&k.c(),q=u("\n"),T&&T.c(),s.className="forest-plugin-header svelte-tbu2c6",c.className="forest-plugin-header svelte-tbu2c6",g.className="gmx-select-layer-container__label svelte-tbu2c6",x.__value="",x.value=x.__value,x.className="svelte-tbu2c6",v(y,"change",N),y.className="gmx-sidebar-select-medium svelte-tbu2c6",p.className="gmx-select-layer-container svelte-tbu2c6",n.dataset.reactroot="",n.className="forest-plugin-container svelte-tbu2c6"},m:function(t,e){o(n,t,e),r(s,n),r(a,n),r(c,n),r(d,c),r(h,c),r(_,n),r(p,n),r(g,p),r(b,p),r(y,p),r(x,y),k&&k.m(y,null),r(q,n),T&&T.m(n,null),I=!0},p:function(e,s){I&&!e.limit||m(h,s.limit),s.layerIds?k?k.p(e,s):((k=F(0,s)).c(),k.m(y,null)):k&&(k.d(1),k=null),s.layerId?(T?T.p(e,s):(T=A(t,s))&&T.c(),T.i(n,null)):T&&T.o(function(){T.d(1),T=null})},i:function(t,e){I||this.m(t,e)},o:function(t){I&&(T?T.o(t):t(),I=!1)},d:function(t){t&&l(n),k&&k.d(),f(y,"change",N),T&&T.d()}}}(this,this._state),this.root._oncreate.push(function(){S.call(e,{changed:s({},e._state),current:e._state}),function(){var t=this.get(),e=t.meta,n=t.gmxMap;this.getReportsCount(),console.log("in oncreate",n);var s=[],a=[];n.layers.forEach(function(t){if(t.getGmxProperties){var n=t.getGmxProperties(),r=n.MetaProperties||{};if("vector"===n.type.toLowerCase()&&"polygon"===n.GeometryType.toLowerCase()&&!n.IsRasterCatalog&&!n.Quicklook){var o={id:n.name,title:n.title};e?(r.forest&&"true"===r.forest.Value&&s.push(o),r.quadrant&&"true"===r.quadrant.Value&&a.push(o)):(s.push(o),a.push(o))}}}),this.set({layerIds:s,quadrantIds:a,cols:[]})}.call(e),e.fire("update",{changed:s({},e._state),current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,p(this._beforecreate),p(this._oncreate),p(this._aftercreate),this._lock=!1),this._intro=!0}return n(W.prototype,g),n(W.prototype,L),t.App=W,t}({});
//# sourceMappingURL=forest.js.map
